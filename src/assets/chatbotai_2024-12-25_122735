--
-- PostgreSQL database dump
--

-- Dumped from database version 16.6 (Ubuntu 16.6-0ubuntu0.24.04.1)
-- Dumped by pg_dump version 16.6 (Ubuntu 16.6-0ubuntu0.24.04.1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: feature_action_enum; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.feature_action_enum AS ENUM (
    'create',
    'update',
    'read',
    'delete',
    'all'
);


ALTER TYPE public.feature_action_enum OWNER TO postgres;

--
-- Name: feature_module_name_enum; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.feature_module_name_enum AS ENUM (
    'Guest',
    'User',
    'Admin',
    'Roles',
    'Features',
    'RoleFeature'
);


ALTER TYPE public.feature_module_name_enum OWNER TO postgres;

--
-- Name: user_role_name_enum; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.user_role_name_enum AS ENUM (
    'admin',
    'user'
);


ALTER TYPE public.user_role_name_enum OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: feature; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.feature (
    id integer NOT NULL,
    module_name public.feature_module_name_enum NOT NULL,
    action public.feature_action_enum NOT NULL
);


ALTER TABLE public.feature OWNER TO postgres;

--
-- Name: feature_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.feature_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.feature_id_seq OWNER TO postgres;

--
-- Name: feature_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.feature_id_seq OWNED BY public.feature.id;


--
-- Name: role_features; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.role_features (
    id integer NOT NULL,
    deleted_at timestamp without time zone,
    role_id integer,
    feature_id integer
);


ALTER TABLE public.role_features OWNER TO postgres;

--
-- Name: role_features_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.role_features_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.role_features_id_seq OWNER TO postgres;

--
-- Name: role_features_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.role_features_id_seq OWNED BY public.role_features.id;


--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    mobile_number character varying NOT NULL,
    username character varying NOT NULL,
    email character varying,
    password character varying NOT NULL,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL,
    deleted_at timestamp without time zone,
    role_id integer
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.user_id_seq OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.user_id_seq OWNED BY public."user".id;


--
-- Name: user_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_role (
    id integer NOT NULL,
    name public.user_role_name_enum NOT NULL,
    created_at timestamp without time zone DEFAULT now() NOT NULL,
    updated_at timestamp without time zone DEFAULT now() NOT NULL,
    deleted_at timestamp without time zone
);


ALTER TABLE public.user_role OWNER TO postgres;

--
-- Name: user_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.user_role_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.user_role_id_seq OWNER TO postgres;

--
-- Name: user_role_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.user_role_id_seq OWNED BY public.user_role.id;


--
-- Name: feature id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.feature ALTER COLUMN id SET DEFAULT nextval('public.feature_id_seq'::regclass);


--
-- Name: role_features id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_features ALTER COLUMN id SET DEFAULT nextval('public.role_features_id_seq'::regclass);


--
-- Name: user id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user" ALTER COLUMN id SET DEFAULT nextval('public.user_id_seq'::regclass);


--
-- Name: user_role id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role ALTER COLUMN id SET DEFAULT nextval('public.user_role_id_seq'::regclass);


--
-- Data for Name: feature; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.feature (id, module_name, action) FROM stdin;
2	User	create
3	User	update
4	User	read
5	User	delete
6	Roles	delete
7	Roles	update
8	Roles	create
9	Roles	read
10	Features	read
11	Features	create
12	Features	update
13	Features	delete
14	RoleFeature	delete
15	RoleFeature	update
16	RoleFeature	create
17	RoleFeature	read
18	RoleFeature	all
19	Features	all
20	Roles	all
21	User	all
22	Admin	all
23	Admin	create
24	Admin	delete
25	Admin	update
26	Admin	read
\.


--
-- Data for Name: role_features; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.role_features (id, deleted_at, role_id, feature_id) FROM stdin;
1	\N	1	18
2	\N	1	19
3	\N	1	20
4	\N	1	21
5	\N	3	2
6	\N	3	3
8	\N	3	5
9	\N	3	4
10	\N	1	22
11	\N	1	23
12	\N	1	24
13	\N	1	25
14	\N	1	26
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, mobile_number, username, email, password, created_at, updated_at, deleted_at, role_id) FROM stdin;
1	7769091028	bhumi	mbhumione9545@gmail.com	$2b$12$RAAF6yxElL8I9s.saXi.8eGKgXUBL/3jGC8XHkapW22j0WZHJTFhy	2024-12-24 15:09:38.961181	2024-12-24 15:09:38.961181	\N	1
2	9975330033	manasi	mansi123@gmail.com	$2b$12$MUg4R/0Gsxanprsj1Vu0Neo4SqZ72ao2/GYVeXUN9fpOz8xBX4Bw.	2024-12-24 15:56:27.266783	2024-12-24 15:56:27.266783	\N	3
3	7769091028	super	super@gmail.com	$2b$12$Scr26YFsS.Xz/qzt5XBLbefeXSzFjqGdhWKt7YAchMFQ2fF1OGx0e	2024-12-25 12:25:07.403125	2024-12-25 12:25:07.403125	\N	1
\.


--
-- Data for Name: user_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_role (id, name, created_at, updated_at, deleted_at) FROM stdin;
3	user	2024-12-25 11:39:58.440358	2024-12-25 12:01:55.298117	\N
1	admin	2024-12-24 15:06:50.201712	2024-12-25 12:23:19.785741	\N
\.


--
-- Name: feature_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.feature_id_seq', 26, true);


--
-- Name: role_features_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.role_features_id_seq', 14, true);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_id_seq', 3, true);


--
-- Name: user_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_role_id_seq', 3, true);


--
-- Name: feature PK_03930932f909ca4be8e33d16a2d; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.feature
    ADD CONSTRAINT "PK_03930932f909ca4be8e33d16a2d" PRIMARY KEY (id);


--
-- Name: role_features PK_185e3a4ac28d67a3894c9de6e39; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_features
    ADD CONSTRAINT "PK_185e3a4ac28d67a3894c9de6e39" PRIMARY KEY (id);


--
-- Name: user PK_cace4a159ff9f2512dd42373760; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "PK_cace4a159ff9f2512dd42373760" PRIMARY KEY (id);


--
-- Name: user_role PK_fb2e442d14add3cefbdf33c4561; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT "PK_fb2e442d14add3cefbdf33c4561" PRIMARY KEY (id);


--
-- Name: user_role UQ_31f96f2013b7ac833d7682bf021; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_role
    ADD CONSTRAINT "UQ_31f96f2013b7ac833d7682bf021" UNIQUE (name);


--
-- Name: user UQ_e12875dfb3b1d92d7d7c5377e22; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "UQ_e12875dfb3b1d92d7d7c5377e22" UNIQUE (email);


--
-- Name: role_features FK_d8211644d5c31b4ccc2415a97d7; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_features
    ADD CONSTRAINT "FK_d8211644d5c31b4ccc2415a97d7" FOREIGN KEY (role_id) REFERENCES public.user_role(id);


--
-- Name: role_features FK_de7ec4a34d21d8df6986fcdbdef; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.role_features
    ADD CONSTRAINT "FK_de7ec4a34d21d8df6986fcdbdef" FOREIGN KEY (feature_id) REFERENCES public.feature(id);


--
-- Name: user FK_fb2e442d14add3cefbdf33c4561; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "FK_fb2e442d14add3cefbdf33c4561" FOREIGN KEY (role_id) REFERENCES public.user_role(id);


--
-- PostgreSQL database dump complete
--

